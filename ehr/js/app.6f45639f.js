(function(t){function e(e){for(var n,r,o=e[0],l=e[1],u=e[2],d=0,m=[];d<o.length;d++)r=o[d],s[r]&&m.push(s[r][0]),s[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);c&&c(e);while(m.length)m.shift()();return a.push.apply(a,u||[]),i()}function i(){for(var t,e=0;e<a.length;e++){for(var i=a[e],n=!0,o=1;o<i.length;o++){var l=i[o];0!==s[l]&&(n=!1)}n&&(a.splice(e--,1),t=r(r.s=i[0]))}return t}var n={},s={1:0},a=[];function r(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=n,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/ehr/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var c=l;a.push([12,0]),i()})({"0jZk":function(t,e,i){},"0wdA":function(t,e,i){},12:function(t,e,i){t.exports=i("Vtdi")},"1uw0":function(t,e,i){},"2Z8d":function(t,e,i){"use strict";var n=i("1uw0"),s=i.n(n);s.a},"40uL":function(t,e,i){},"5iwO":function(t,e,i){t.exports=i.p+"img/xray-shoulder-right-clavicle-fracture.65662244.jpg"},"7EbL":function(t,e,i){},"8GSr":function(t,e,i){},JGCL:function(t,e,i){t.exports=i.p+"img/xray-wrist-right-radius-fracture.e5f50c6b.jpg"},QzdF:function(t,e,i){"use strict";var n=i("aSxC"),s=i.n(n);s.a},Vtdi:function(t,e,i){"use strict";i.r(e);i("VRzm");var n=i("Kw5r"),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("TheNavigationBar"),i("router-view")],1)},a=[],r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("nav",{attrs:{id:"nav"}},[i("ul",[i("li",[i("a",{attrs:{href:"#"}},[i("TheNavigationBarMenuButton")],1)])]),i("div",{staticClass:"divider"}),t._m(0),i("div",{staticClass:"divider"}),i("ul",[i("li",[i("router-link",{attrs:{to:"/"}},[t._v("Dashboard")])],1),i("li",[i("router-link",{attrs:{to:"/journal"}},[t._v("Journal")])],1),t._m(1),t._m(2),t._m(3),t._m(4),t._m(5)]),i("ul",{staticClass:"user-section"},[i("li",[i("div",{staticClass:"user-info"},[i("span",{staticClass:"user-name"},[t._v("\n          "+t._s(t.currentUser.first_name)+" "+t._s(t.currentUser.last_name)+"\n        ")]),i("br"),t._v("\n        "+t._s(t.currentUser.role)+"\n      ")]),i("a",{attrs:{href:"#"}},[t._v("Log out")])])])])},o=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",[i("li",[i("a",{attrs:{href:"#"}},[t._v("Your inbox")])]),i("li",[i("a",{attrs:{href:"#"}},[t._v("Notes to sign")])]),i("li",[i("a",{attrs:{href:"#"}},[t._v("Your schedule")])]),i("li",[i("a",{attrs:{href:"#"}},[t._v("Referrals to you")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",[i("a",{attrs:{href:"#"}},[t._v("Medicine")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",[i("a",{attrs:{href:"#"}},[t._v("Test ordering")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",[i("a",{attrs:{href:"#"}},[t._v("Test results")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",[i("a",{attrs:{href:"#"}},[t._v("Referrals")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",[i("a",{attrs:{href:"#"}},[t._v("Sick leaves")])])}],l=i("L2JU"),u=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},c=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"menu-button"},[i("div",{staticClass:"line"}),i("div",{staticClass:"line"}),i("div",{staticClass:"line"})])}],d=(i("cp5E"),i("KHd+")),m={},p=Object(d["a"])(m,u,c,!1,null,"1cbbc038",null),g=p.exports,v={name:"TheNavigationBar",components:{TheNavigationBarMenuButton:g},computed:Object(l["d"])(["currentUser"])},f=v,h=(i("y7PO"),Object(d["a"])(f,r,o,!1,null,"57c2a0fc",null)),_=h.exports,b={name:"App",components:{TheNavigationBar:_},beforeCreate:function(){this.$store.commit("syncUserInfo")},created:function(){this.$moment.updateLocale("en",{relativeTime:{future:"in %s",past:"%s ago",s:"seconds",ss:"%ss",m:"1m",mm:"%dm",h:"1h",hh:"%dh",d:"1d",dd:"%dd",M:"1mo",MM:"%dmo",y:"1y",yy:"%dy"}})}},y=b,k=(i("ZCWV"),Object(d["a"])(y,s,a,!1,null,null,null)),C=k.exports,S=i("jE9Z"),P=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},w=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dashboard"},[i("h1",[t._v("This is your dashboard.")])])}],q={},x=Object(d["a"])(q,P,w,!1,null,null,null),j=x.exports,T=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"journal"},[i("LayoutSidebar",{attrs:{heading:"Journal"}},[i("template",{slot:"sidebar"},[i("PatientSelector"),i("PatientInfo",{attrs:{patient:t.selectedPatient}})],1),i("template",{slot:"content"},[i("div",{staticClass:"content-inner"},[i("BasePane",{staticClass:"pane--problem-list",attrs:{scrollable:!0,title:"Problem list"}},[i("template",{slot:"controls"},[i("div",{staticClass:"controls"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.onlyShowSpecificDepartment,expression:"onlyShowSpecificDepartment"}],attrs:{id:"only-show-specific-department",type:"checkbox"},domProps:{checked:Array.isArray(t.onlyShowSpecificDepartment)?t._i(t.onlyShowSpecificDepartment,null)>-1:t.onlyShowSpecificDepartment},on:{change:function(e){var i=t.onlyShowSpecificDepartment,n=e.target,s=!!n.checked;if(Array.isArray(i)){var a=null,r=t._i(i,a);n.checked?r<0&&(t.onlyShowSpecificDepartment=i.concat([a])):r>-1&&(t.onlyShowSpecificDepartment=i.slice(0,r).concat(i.slice(r+1)))}else t.onlyShowSpecificDepartment=s}}}),i("label",{attrs:{for:"only-show-specific-department"}},[t._v("Only "+t._s(t.departments[0]))])])]),i("template",{slot:"content"},[t.selectedPatient?i("div",{staticClass:"problem-list-wrapper"},[i("div",{staticClass:"counters"},[i("span",[t._v("Threads:"),i("b",[t._v(t._s(t.filteredProblems.length))])]),i("span",[t._v("Progress notes:"),i("b",[t._v(t._s(t.progressNoteCount))])]),i("span",[t._v("Surgeries:"),i("b",[t._v(t._s(t.surgeryCount))])]),i("span",[t._v("Epicrises:"),i("b",[t._v(t._s(t.epicrisisCount))])])]),i("ul",{staticClass:"problem-list"},t._l(t.filteredProblems,function(t){return i("ProblemListItem",{key:t.id,attrs:{problem:t}})})),i("div",{staticClass:"select-all-button-wrapper"},[i("button",{staticClass:"button",attrs:{disabled:!t.filteredProblems.length},on:{click:function(e){t.toggleSelectAllProblems()}}},[t._v("\n                  "+t._s(t.allProblemsSelected?"Deselect":"Select")+" all\n                ")])])]):t._e()])],2),i("BasePane",{staticClass:"pane--notes",attrs:{scrollable:!0,title:"Notes"}},[i("template",{slot:"controls"},[i("div",{staticClass:"controls"},[i("div",{staticClass:"note-search-wrapper"},[i("label",{attrs:{for:"note-search"}},[i("i",{staticClass:"icon-search"})]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.noteSearchQuery,expression:"noteSearchQuery"}],staticClass:"input-note-search",attrs:{id:"note-search",type:"search",placeholder:"Search..."},domProps:{value:t.noteSearchQuery},on:{input:function(e){e.target.composing||(t.noteSearchQuery=e.target.value)}}})]),i("button",{staticClass:"button button-note-add"},[i("i",{staticClass:"icon-plus"}),t._v("\n                add new note\n              ")])])]),i("template",{slot:"content"},[i("ul",{staticClass:"note-list"},t._l(t.filteredNotes,function(t){return i("NoteListItem",{key:t.id,attrs:{note:t}})}))])],2),i("BasePane",{staticClass:"pane--attachments",attrs:{scrollable:!0,title:"Attachments"}},[i("template",{slot:"controls"}),i("template",{slot:"content"},[i("AttachmentList",{attrs:{attachments:t.filteredAttachments}})],1)],2)],1)])],2)],1)},A=[],O=(i("f3/d"),i("iv4g")),N=(i("Z2Ku"),i("L9s1"),i("yT7P")),M=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"layout-sidebar"},[i("aside",{staticClass:"sidebar"},[t._t("sidebar")],2),i("section",{staticClass:"content"},[i("h1",{staticClass:"content-heading"},[t._v("\n      "+t._s(t.heading)+"\n    ")]),t._t("content")],2)])},I=[],D={name:"LayoutSidebar",props:{heading:{type:String,default:""}}},L=D,Z=(i("f0bw"),Object(d["a"])(L,M,I,!1,null,"7f38f439",null)),E=Z.exports,B=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"base-pane"},[i("div",{staticClass:"pane-header"},[i("span",{staticClass:"pane-title"},[t._v("\n      "+t._s(t.title)+"\n    ")]),i("div",{staticClass:"pane-controls"},[t._t("controls")],2)]),i("div",{class:["pane-content",{scrollable:t.scrollable}]},[t._t("content")],2)])},F=[],$={name:"BasePane",props:{title:{type:String,default:""},scrollable:{type:Boolean,default:!1}}},R=$,H=(i("QzdF"),Object(d["a"])(R,B,F,!1,null,"4e4ed87a",null)),U=H.exports,V=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"patient-selector"},[i("div",{staticClass:"tab-container"},t._l(t.tabs,function(e){return i("button",{key:e.id,class:["tab",{active:t.currentTab===e.id}],on:{click:function(i){t.currentTab=e.id}}},[t._v(t._s(e.name))])})),i("div",{staticClass:"tab-content"},[t._l(t.tabs,function(e){return i("div",{directives:[{name:"show",rawName:"v-show",value:e.id===t.currentTab,expression:"tab.id === currentTab"}],key:e.id,staticClass:"table-container"},[i("table",{staticClass:"table"},t._l(e.items,function(n){return i("tr",{key:n.patient.id,class:["table-row",{selected:t.selectedPatient&&t.selectedPatient.id===n.patient.id}],on:{click:function(e){t.selectAppointment({appointment:n})}}},[i("td",[i("b",[t._v(t._s(n.patient.first_name)+" "+t._s(n.patient.last_name))]),i("br"),i("span",{staticClass:"ssn"},[t._v(t._s(n.patient.ssn))])]),e.showTime?i("td",[t._v(t._s(t._f("moment")(n.start,"HH:mm")))]):t._e(),i("td",[t._v(t._s(n.reason))])])}))])}),i("input",{staticClass:"patient-search",attrs:{type:"text",placeholder:"Select other..."}})],2)])},K=[],Q={name:"PatientSelector",data:function(){return{currentTab:0}},computed:Object(N["a"])({},Object(l["d"])(["selectedPatient"]),{tabs:function(){return[{id:0,name:"Today's list",items:this.$store.getters.getTodaysAppointments,showTime:!0},{id:1,name:"Yours",items:this.$store.getters.getMyPatientsAppointments,showTime:!0},{id:2,name:"Ward",items:this.$store.getters.getWardPatients,showTime:!1},{id:3,name:"Last active",items:this.$store.state.lastActiveAppointments,showTime:!1}]}}),methods:Object(l["c"])(["selectAppointment"])},Y=Q,G=(i("y02T"),Object(d["a"])(Y,V,K,!1,null,"53888555",null)),J=G.exports,W=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"patient-info"},[t.patient?t._e():i("div",{staticClass:"placeholder-text"},[t._v("\n    Please select a patient\n  ")]),t.patient?i("div",[i("div",{staticClass:"patient-basics"},[i("h2",{staticClass:"name"},[t._v(t._s(t.patient.last_name)+", "+t._s(t.patient.first_name))]),i("i",{class:["sex","male"===t.patient.sex?"icon-male":"icon-female"]}),i("div",[i("span",{staticClass:"ssn"},[t._v(t._s(t.patient.ssn))]),i("span",{staticClass:"age"},[t._v(t._s(t.age)+" years old")])])]),i("div",{staticClass:"patient-symbols"},[i("i",{class:["patient-symbol",t.patient.allergies.length?"icon-a-red active":"icon-a"],attrs:{title:t.patient.allergies.length?"Allergic to "+t.patient.allergies.join(", "):"No allergies"}}),i("i",{class:["patient-symbol",t.patient.blood_problems?"icon-drop-red active":"icon-drop"],attrs:{title:t.patient.blood_problems?"Known blood problems":"No known blood problems"}}),i("i",{class:["patient-symbol",t.patient.other_warnings?"icon-warning-red active":"icon-warning"],attrs:{title:t.patient.other_warnings?"Other warnings":"No other warnings"}}),i("i",{class:["patient-symbol","patient-symbol--admitted",t.patient.admitted?"icon-hospital-bed-green active":"icon-hospital-bed"],attrs:{title:t.patient.admitted?"Admitted to the hospital":"Not admitted to the hospital"}})]),i("div",[i("h3",{staticClass:"section-heading"},[t._v("Important information:")]),i("ul",{staticClass:"info-list"},[i("li",[t._v("Height: "),i("strong",[t._v(t._s(t.patient.height_cm)+" cm")])]),i("li",[t._v("Weight: "),i("strong",[t._v(t._s(t.patient.weight_kg)+" kg")])]),t.patient.allergies.length?i("li",[t._v("\n          Allergies: "),i("strong",[t._v(t._s(t.patient.allergies.join(", ")))])]):t._e(),t._l(t.patient.important_remarks,function(e,n){return i("li",{key:n},[t._v(t._s(e))])})],2)]),i("div",[i("h3",{staticClass:"section-heading"},[t._v("Upcoming events:")]),t.patient.events?i("div",{staticClass:"info-table"},[t._m(0),i("div",{staticClass:"info-table-content-wrapper"},[i("table",{staticClass:"info-table-content"},t._l(t.patient.events,function(e){return i("tr",{key:e.id},[i("td",{staticStyle:{width:"20%"}},[t._v(t._s(t._f("moment")(e.date,"DD.M.YY")))]),i("td",{staticStyle:{width:"40%"}},[t._v(t._s(e.type))]),i("td",{staticStyle:{width:"40%"}},[t._v(t._s(e.clinic))])])}))])]):t._e(),t.patient.events?t._e():i("p",{staticClass:"placeholder-text"},[t._v("\n        No upcoming events.\n      ")])]),i("div",{staticClass:"section-medicine"},[i("h3",{staticClass:"section-heading"},[t._v("Medicine:")]),t.patient.medicines?i("div",{staticClass:"info-table"},[t._m(1),i("div",{staticClass:"info-table-content-wrapper"},[i("table",{staticClass:"info-table-content"},t._l(t.patient.medicines,function(e){return i("tr",{key:e.id},[i("td",{staticStyle:{width:"50%"}},[t._v(t._s(e.name))]),i("td",{staticStyle:{width:"50%"}},[t._v(t._s(e.intake))])])}))])]):t._e(),t.patient.medicines?i("button",{staticClass:"button"},[t._v("\n        All medication\n      ")]):t._e(),t.patient.medicines?t._e():i("p",{staticClass:"placeholder-text"},[t._v("\n        No medicines.\n      ")])])]):t._e()])},z=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("table",{staticClass:"info-table-header"},[i("tr",[i("th",{staticStyle:{width:"20%"}},[t._v("Date")]),i("th",{staticStyle:{width:"40%"}},[t._v("Type")]),i("th",{staticStyle:{width:"40%"}},[t._v("Clinic")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("table",{staticClass:"info-table-header"},[i("tr",[i("th",{staticStyle:{width:"50%"}},[t._v("Name")]),i("th",{staticStyle:{width:"50%"}},[t._v("Intake")])])])}],X={name:"PatientInfo",props:{patient:{type:Object,required:!1,default:function(){}}},computed:{age:function(){return this.$moment().diff(this.patient.date_of_birth,"years")}}},tt=X,et=(i("a2vD"),Object(d["a"])(tt,W,z,!1,null,"76b15672",null)),it=et.exports,nt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",[i("a",{class:["problem-item",t.ageClass,{selected:t.isSelected}],attrs:{href:"javascript:void(0)"},on:{click:function(e){return e.preventDefault(),t.onProblemClick(e)}}},[i("div",{staticClass:"problem-name-container"},[i("b",{staticClass:"problem-code"},[t._v("\n        "+t._s(t.problem.diagnosis_code)+"\n        "),t.problem.chronic?i("i",{staticClass:"icon-chronic"}):t._e()]),i("span",{staticClass:"problem-description"},[t._v(t._s(t.problem.description))])]),i("div",{staticClass:"problem-info-container"},[i("div",{staticClass:"time-container"},[i("div",{staticClass:"time-col"},[i("span",{staticClass:"time-label"},[t._v("Start:")]),t._v("\n          "+t._s(t._f("moment")(t.problem.start_date,"from","now",!0))+"\n        ")]),i("div",{staticClass:"time-col"},[i("span",{staticClass:"time-label"},[t._v("Last:")]),t._v("\n          "+t._s(t._f("moment")(t.problem.last_activity_date,"from","now",!0))+"\n        ")])]),i("div",{staticClass:"counter-container"},[i("div",{staticClass:"counter"},[t.problem.progress_note_count?i("div",[i("i",{class:[t.progressNotesIconClass]}),i("span",[t._v(t._s(t.problem.progress_note_count))])]):t._e()]),i("div",{staticClass:"counter"},[t.problem.surgery_count?i("div",[i("i",{class:[t.surgeriesIconClass]}),i("span",[t._v(t._s(t.problem.surgery_count))])]):t._e()]),i("div",{staticClass:"counter"},[t.problem.epicrisis_count?i("div",[i("i",{class:[t.epicrisesIconClass]}),i("span",[t._v(t._s(t.problem.epicrisis_count))])]):t._e()])])])])])},st=[],at={name:"ProblemListItem",props:{problem:{type:Object,required:!0}},computed:Object(N["a"])({},Object(l["d"])(["selectedProblems"]),{lastActivityAgeMonths:function(){return Math.round(this.$moment().diff(this.problem.last_activity_date,"months",!0))},ageClass:function(){return this.lastActivityAgeMonths>=12?"age--older":this.lastActivityAgeMonths>=6?"age--old":""},progressNotesIconClass:function(){switch(this.problem.progress_note_count){case 0:return"";case 1:return"icon-documents-one";case 2:return"icon-documents-two";case 3:return"icon-documents-three";default:return"icon-documents-four"}},surgeriesIconClass:function(){switch(this.problem.surgery_count){case 0:return"";case 1:return"icon-surgeries-one";case 2:return"icon-surgeries-two";case 3:return"icon-surgeries-three";default:return"icon-surgeries-four"}},epicrisesIconClass:function(){switch(this.problem.epicrisis_count){case 0:return"";case 1:return"icon-charts-one";case 2:return"icon-charts-two";case 3:return"icon-charts-three";default:return"icon-charts-four"}},isSelected:function(){return this.selectedProblems.includes(this.problem.id)}}),methods:Object(N["a"])({},Object(l["c"])(["selectProblem","toggleAddProblemToSelect"]),{onProblemClick:function(t){t.shiftKey?this.toggleAddProblemToSelect(this.problem):this.selectProblem(this.problem)}})},rt=at,ot=(i("kTuB"),Object(d["a"])(rt,nt,st,!1,null,"148b676d",null)),lt=ot.exports,ut=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{class:["note-item","type--"+t.note.type,{starred:t.note.is_starred,highlighted:t.isHighlighted}],on:{mouseover:function(e){t.highlightNote(t.note)}}},[i("div",{staticClass:"note-item-header"},[i("div",{staticClass:"note-info"},[i("span",{staticClass:"note-date"},[t._v("\n        "+t._s(t._f("moment")(t.note.date,"D MMM Y"))+"\n      ")]),i("i",{class:["type-icon",t.typeIconClass]}),t._v("\n      #"+t._s(t.note.id_for_patient)+"\n    ")]),i("div",t._l(t.note.diagnoses,function(e){return i("b",{key:e.code_icd10},[t._v("\n        "+t._s(e.code_icd10)+" "+t._s(e.description)+"\n        "),i("br")])})),i("div",{staticClass:"action-buttons"},[t._m(0),i("button",{staticClass:"action-button button-star",on:{click:function(e){t.toggleStarNote(t.note)}}},[i("i",{class:[t.note.is_starred?"icon-star-filled":"icon-star-empty"]})])])]),i("div",{staticClass:"note-item-content"},[i("div",{staticClass:"content-left"},[i("div",{staticClass:"content-section"},[i("b",[t._v(t._s(t.note.reason||"(Sökorsak saknas)"))])]),i("div",{staticClass:"content-section"},[i("span",{staticClass:"unit"},[t._v(t._s(t.note.unit))])]),i("div",{staticClass:"content-section"},[t._v("\n        "+t._s(t.note.current)+"\n      ")]),i("div",{staticClass:"content-section"},[i("b",[t._v("Socialt:")]),i("br"),t._v("\n        "+t._s(t.note.social||"-")+"\n      ")]),i("div",{staticClass:"content-section"},[i("b",[t._v("Tidigare hälsoproblem:")]),i("br"),t._v("\n        "+t._s(t.note.previous_history||"-")+"\n      ")])]),i("div",{staticClass:"content-right"},[i("div",{staticClass:"content-section"},[i("b",[t._v("Status:")]),i("br"),t.note.status?t._e():i("span",[t._v("-")]),t.note.status?i("table",t._l(t.note.status,function(e){var n=e.name,s=e.value;return i("tr",{key:n},[i("td",{staticClass:"status-measurement"},[t._v(t._s(n))]),i("td",[t._v(t._s(s))])])})):t._e()]),i("div",{staticClass:"content-section"},[i("b",[t._v("Bedömning:")]),i("br"),t._v("\n        "+t._s(t.note.assessment||"-")+"\n      ")]),"surgery"===t.note.type?i("div",{staticClass:"content-section"},[i("b",[t._v("Anesteti:")]),i("br"),t._v("\n        "+t._s(t.note.anesthesia||"-")+"\n      ")]):t._e(),"surgery"===t.note.type?i("div",{staticClass:"content-section"},[i("b",[t._v("Operation:")]),i("br"),t._v("\n        "+t._s(t.note.operation||"-")+"\n      ")]):t._e(),t.note.medicines?i("div",{staticClass:"content-section"},[i("b",[t._v("Medicin:")]),i("br"),i("ul",t._l(t.note.medicines,function(e){return i("li",{key:e},[t._v("\n            "+t._s(e)+"\n          ")])}))]):t._e()]),t.note.attachments.length?i("div",{staticClass:"content-bottom"},[i("i",{staticClass:"icon-paperclip"}),i("div",{staticClass:"attachments-info"},[t._v("\n        Attachments ("+t._s(t.note.attachments.length)+"):\n        "),i("br"),t._l(t.note.attachments,function(e,n){return i("span",{key:e.id},[i("b",[t._v(t._s(e.type))]),t._v("\n          "+t._s(t._f("moment")(e.date,"D-M-YY"))),n<t.note.attachments.length-1?i("span",[t._v(", ")]):t._e()])})],2)]):t._e()])])},ct=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{staticClass:"action-button button-send"},[i("i",{staticClass:"icon-paper-plane"})])}],dt={name:"NoteListItem",props:{note:{type:Object,required:!0}},computed:{isHighlighted:function(){var t=this.$store.state.highlightedNote;return t&&t.id===this.note.id},typeIconClass:function(){switch(this.note.type){case"surgery":return this.note.is_starred?"icon-surgeries-one-white":"icon-surgeries-one";case"epicrisis":return this.note.is_starred?"icon-charts-one-white":"icon-charts-one";default:return""}}},methods:Object(N["a"])({},Object(l["b"])(["toggleStarNote"]),Object(l["c"])(["highlightNote"]))},mt=dt,pt=(i("pC7f"),Object(d["a"])(mt,ut,ct,!1,null,"0a821fd3",null)),gt=pt.exports,vt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"attachment-list-wrapper"},[i("div",{staticClass:"attachment-list-header"},[i("div",{staticClass:"attachment-list-column"},[i("button",{staticClass:"button-sort",on:{click:function(e){t.sortBy("type")}}},[i("span",{class:{underlined:"type"===t.sortProperty}},[t._v("Type:")]),i("i",{class:[t.typeSortIconClass]})])]),i("div",{staticClass:"attachment-list-column"},[t._v("Comment:")]),i("div",{staticClass:"attachment-list-column"},[i("button",{staticClass:"button-sort",on:{click:function(e){t.sortBy("date")}}},[i("span",{class:{underlined:"date"===t.sortProperty}},[t._v("Date:")]),i("i",{class:[t.dateSortIconClass]})])])]),i("ul",{staticClass:"attachment-list"},t._l(t.sortedAttachments,function(e){return i("li",{key:e.id},[i("a",{class:["attachment-item",{highlighted:t.isHighlighted(e)}],attrs:{href:"javascript:void(0)"},on:{mouseover:function(i){t.attachmentToPreview=e},mouseleave:function(e){t.attachmentToPreview=null}}},[i("div",{staticClass:"attachment-list-column"},[t._v(t._s(e.type))]),i("div",{staticClass:"attachment-list-column"},[t._v(t._s(e.comment))]),i("div",{staticClass:"attachment-list-column"},[t._v(t._s(t._f("moment")(e.date,"D-M-YY")))])])])})),t.attachmentToPreview?i("AttachmentListPreviewWindow",{attrs:{attachment:t.attachmentToPreview}}):t._e()],1)},ft=[],ht=(i("Vd3H"),i("a94B")),_t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"preview-window"},[t.attachment.image_name?n("img",{staticClass:"preview-image",attrs:{src:i("dYTa")("./"+t.attachment.image_name)}}):t._e(),n("div",{staticClass:"preview-description"},[n("b",[t._v(t._s(t.attachment.type))]),n("br"),t._v("\n    "+t._s(t.attachment.comment)),t.attachment.comment?n("br"):t._e(),t._v("\n    "+t._s(t._f("moment")(t.attachment.date,"DD-MM-YYYY"))+"\n  ")]),t.attachment.text&&t.attachment.text.length?n("div",{staticClass:"preview-content"},t._l(t.attachment.text,function(e,i){return n("p",{key:i},[t._v("\n      "+t._s(e)+"\n    ")])})):t._e()])},bt=[],yt={name:"AttachmentListPreviewWindow",props:{attachment:{type:Object,required:!0}}},kt=yt,Ct=(i("eweK"),Object(d["a"])(kt,_t,bt,!1,null,"50d876d3",null)),St=Ct.exports,Pt={name:"AttachmentList",components:{AttachmentListPreviewWindow:St},props:{attachments:{type:Array,required:!0,validator:function(t){return t.every(function(t){return"object"===Object(ht["a"])(t)})}}},data:function(){return{sortProperty:null,sortAscending:!0,attachmentToPreview:null}},computed:{sortedAttachments:function(){var t=this;if(!this.sortProperty)return this.attachments;var e,i=[].concat(this.attachments);return e=this.sortAscending?function(e,i){return e[t.sortProperty].localeCompare(i[t.sortProperty])}:function(e,i){return i[t.sortProperty].localeCompare(e[t.sortProperty])},i.sort(e)},typeSortIconClass:function(){return"type"===this.sortProperty?this.sortAscending?"icon-sort-down":"icon-sort-up":"icon-sort"},dateSortIconClass:function(){return"date"===this.sortProperty?this.sortAscending?"icon-sort-down":"icon-sort-up":"icon-sort"}},methods:{sortBy:function(t){t!==this.sortProperty?(this.sortAscending="date"!==t,this.sortProperty=t):this.sortAscending=!this.sortAscending},isHighlighted:function(t){var e=this.$store.state.highlightedNote;return e&&e.id===t.note_id}}},wt=Pt,qt=(i("hg+G"),Object(d["a"])(wt,vt,ft,!1,null,"5955c705",null)),xt=qt.exports,jt={name:"Journal",components:{LayoutSidebar:E,BasePane:U,PatientSelector:J,PatientInfo:it,ProblemListItem:lt,NoteListItem:gt,AttachmentList:xt},data:function(){return{onlyShowSpecificDepartment:!1,noteSearchQuery:""}},computed:Object(N["a"])({},Object(l["d"])({departments:function(t){return t.currentUser.departments},selectedPatient:"selectedPatient"}),{problems:function(){return this.selectedPatient?this.$store.getters.getProblemsByPatientId({id:this.selectedPatient.id}):[]},filteredProblems:function(){var t=this;return this.onlyShowSpecificDepartment?this.problems.filter(function(e){return e.department.toLowerCase()===t.departments[0].toLowerCase()}):this.problems},notesForFilteredProblems:function(){var t=this;return this.filteredProblems.map(function(e){return t.$store.getters.getNotesByProblemId({id:e.id})}).flat().filter(function(t,e,i){return i.indexOf(t)===e})},progressNoteCount:function(){return this.notesForFilteredProblems.filter(function(t){return"progress"===t.type}).length},surgeryCount:function(){return this.notesForFilteredProblems.filter(function(t){return"surgery"===t.type}).length},epicrisisCount:function(){return this.notesForFilteredProblems.filter(function(t){return"epicrisis"===t.type}).length},allProblemsSelected:function(){var t=this;return this.filteredProblems.length&&this.filteredProblems.every(function(e){return t.$store.state.selectedProblems.includes(e.id)})},filteredNotes:function(){var t=this.$store.getters.getNotesForSelectedProblems,e=this.noteSearchQuery.trim().toLowerCase();return""===e?t:t.filter(function(t){var i=["#"+t.id_for_patient,t.date,t.unit,t.reason,t.current,t.social,t.previous_history].concat(Object(O["a"])((t.status||[]).map(function(t){return t.name})),Object(O["a"])((t.status||[]).map(function(t){return t.value})),[t.assessment,t.anesthesia,t.operation],Object(O["a"])(t.medicines||[]),Object(O["a"])(t.diagnoses.map(function(t){return t.code_icd10})),Object(O["a"])(t.diagnoses.map(function(t){return t.description})),Object(O["a"])(t.attachments.map(function(t){return t.type})));return i.some(function(t){return t&&t.toLowerCase().includes(e)})})},filteredAttachments:function(){return this.filteredNotes.map(function(t){return t.attachments}).flat()}}),methods:Object(N["a"])({},Object(l["c"])(["selectProblems"]),{toggleSelectAllProblems:function(){var t=this.allProblemsSelected?[]:this.filteredProblems.map(function(t){return t.id});this.selectProblems({ids:t})}})},Tt=jt,At=(i("2Z8d"),Object(d["a"])(Tt,T,A,!1,null,"649b25ba",null)),Ot=At.exports;n["a"].use(S["a"]);var Nt=new S["a"]({routes:[{path:"/",name:"dashboard",component:j},{path:"/journal",name:"journal",component:Ot}]}),Mt=(i("rGqo"),i("KKXr"),i("dRSK"),[{id:1,first_name:"Sven",last_name:"Svensson",ssn:"750613-9430",date_of_birth:"1975-06-13T02:34:00Z",sex:"male",height_cm:178,weight_kg:90,allergies:[],blood_problems:!1,other_warnings:!1,admitted:!1,important_remarks:[]},{id:2,first_name:"Anna",last_name:"Andersson",ssn:"510222-8367",date_of_birth:"1951-02-22T11:49:00Z",sex:"female",height_cm:156,weight_kg:67,allergies:[],blood_problems:!1,other_warnings:!1,admitted:!0,important_remarks:["Mamma dog i bröstcancer"],events:[{id:1,date:"2020-03-03T14:30:00Z",type:"Surgery",clinic:"Orthopedics"}]},{id:3,first_name:"Karl",last_name:"Karlsson",ssn:"781113-5131",date_of_birth:"1978-11-13T22:16:00Z",sex:"male",height_cm:188,weight_kg:78,allergies:[],blood_problems:!1,other_warnings:!1,admitted:!1,important_remarks:[]},{id:4,first_name:"Johan",last_name:"Johansson",ssn:"950404-5197",date_of_birth:"1995-04-04T20:31:00Z",sex:"male",height_cm:182,weight_kg:79,allergies:["Latex, Pc."],blood_problems:!1,other_warnings:!1,admitted:!1,important_remarks:[]},{id:5,first_name:"Anders",last_name:"Andersson",ssn:"670923-3115",date_of_birth:"1967-09-23T03:44:00Z",sex:"male",height_cm:175,weight_kg:96,allergies:[],blood_problems:!1,other_warnings:!1,admitted:!1,important_remarks:["Hjärtinfarkt med PCI 2017","Typ II-diabetes"]},{id:6,first_name:"Sara",last_name:"Lindén",ssn:"580220-0187",date_of_birth:"1958-02-20T21:38:00Z",sex:"female",height_cm:169,weight_kg:71,allergies:[],blood_problems:!1,other_warnings:!1,admitted:!1,important_remarks:[]}]),It=[{id:1,start:"2018-01-01T08:00:00Z",end:"2018-01-01T08:30:00Z",patient_id:1,reason:"Huvudvärk"},{id:2,start:"2018-01-01T08:30:00Z",end:"2018-01-01T09:00:00Z",patient_id:2,reason:"Operation"},{id:3,start:"2018-01-01T09:30:00Z",end:"2018-01-01T09:45:00Z",patient_id:3,reason:"Nackspärr"},{id:4,start:"2018-01-01T10:00:00Z",end:"2018-01-01T10:30:00Z",patient_id:4,reason:"Uppföljning fraktur 8v"},{id:5,start:"2018-01-01T10:30:00Z",end:"2018-01-01T11:00:00Z",patient_id:5,reason:"Ryggont"},{id:6,start:"2018-01-01T13:00:00Z",end:"2018-01-01T13:30:00Z",patient_id:6,reason:"Ont i knä"}],Dt=[{id:1,start:"2018-01-01T08:30:00Z",end:"2018-01-01T09:00:00Z",patient_id:2,reason:"Operation"},{id:2,start:"2018-01-01T10:00:00Z",end:"2018-01-01T10:30:00Z",patient_id:4,reason:"Uppföljning fraktur 8v"},{id:3,start:"2018-01-01T10:30:00Z",end:"2018-01-01T11:00:00Z",patient_id:5,reason:"Ryggont"},{id:4,start:"2018-01-01T13:00:00Z",end:"2018-01-01T13:30:00Z",patient_id:6,reason:"Ont i knä"}],Lt=[{id:1,patient_id:2,reason:"Benbrott"}],Zt=[{code_icd10:"C43.5",description:"Malignt melanom",chronic:!1,department:"Unknown"},{code_icd10:"I48.9",description:"Förmaksflimmer och förmaksfladder, ospecificerat",chronic:!1,department:"Cardiology"},{code_icd10:"J09.9",description:"Influensa",chronic:!1,department:"General"},{code_icd10:"M00.9",description:"Purulent artrit, ospecificerad",chronic:!1,department:"Orthopedics"},{code_icd10:"M24.B",description:"Recidivluxation/subluxation i axelled",chronic:!1,department:"Orthopedics"},{code_icd10:"M54.5",description:"Lumbago",chronic:!1,department:"Orthopedics"},{code_icd10:"S42.0",description:"Nyckelbensfraktur",chronic:!1,department:"Orthopedics"},{code_icd10:"S43.0",description:"Luxation i skulderled",chronic:!1,department:"Orthopedics"},{code_icd10:"S52.3",description:"Fraktur på radiusskaftet",chronic:!1,department:"Orthopedics"},{code_icd10:"S52.4",description:"Fraktur på skaften av både ulna och radius",chronic:!1,department:"Orthopedics"},{code_icd10:"S82.50",description:"Fraktur på mediala malleolen, sluten",chronic:!1,department:"Orthopedics"},{code_icd10:"S82.60",description:"Fraktur på laterala malleolen, sluten",chronic:!1,department:"Orthopedics"},{code_icd10:"S82.80",description:"Frakturer på andra specificerade delar av underben, sluten",chronic:!1,department:"Orthopedics"}],Et=[{id:1,patient_id:1,id_for_patient:1,diagnosis_codes:["J09.9"],date:"2010-08-30T10:47:00Z",type:"progress",is_starred:!1,unit:"Vårdcentral",reason:null,current:"Söker för feber och ont i kroppen. Negerar andningsbesvär.",social:null,previous_history:null,status:[{name:"AT",value:"Feber 38.5"},{name:"Cor",value:"RR, Inga bi- eller blåsljud. HF 85, BT 120/80"},{name:"Pulm",value:"Ausk ua bilat."},{name:"Buk",value:"Mjuk och oöm"}],assessment:"Influensa. Alvedon 1 g x 4 i 5 dagar",anesthesia:null,operation:null,medicines:["Alvedon 1 g x 4 i 5 dagar"]},{id:2,patient_id:6,id_for_patient:1,diagnosis_codes:["I48.9"],date:"2016-01-02T07:49:00Z",type:"progress",is_starred:!1,unit:"Medicinakuten",reason:"Tryck över bröstet",current:"Oregelbunden hjärtrytm och tryck över bröstet sedan inatt. Vaknade pga detta. Ej ätit frukost.",social:"Förskolelärare. Bor i egen villa. Gift, 2 vuxna barn",previous_history:"Väs frisk",status:[{name:"AT",value:"Orolig, Afebril"},{name:"Hjärta",value:"ORR, frekv ca 125. Ausk ORR, 0 hörbara biljud"},{name:"Lungor",value:"Ves andningsljud bilat"},{name:"EKG",value:"visar snabbt ffm"}],assessment:"Nydebuterat förmaksflimmer. Fastande. Under sedering elkonverteras patienten framgångsrikt 1 gång 320 J. Sinusrytm därefter.",anesthesia:null,operation:null,medicines:null},{id:3,patient_id:1,id_for_patient:2,diagnosis_codes:["S42.0","S43.0","S52.3"],date:"2019-11-21T15:51:00Z",type:"progress",is_starred:!1,unit:"Akuten",reason:"Smärta höger axel",current:"Tidigare frisk man. Ramlade av mountainbike vid cykling downhill i sunnersta slalombacke. Slog i axel, knä och händer. Slog inte i huvud eller rygg/buk.",social:null,previous_history:null,status:[{name:"AT",value:"Gott"},{name:"Cor",value:"RR, Inga bi- eller blåsljud. HF 120, BT 140/75"},{name:"Pulm",value:"Ausk ua bilat."},{name:"Buk",value:"Mjuk och oöm"},{name:"Skelett",value:"Blåmärke över höger nyckelben. Dislocerad höger axelled och bruten höger underarm."},{name:"Neurologi",value:"ua"}],assessment:"Radiusfraktur. Reponeras och gipsas. Erhåller smärtlindrande (morfin iv 3 mg) och axelluxationen reponeras ua. Åter till ortopedmottagningen för kontroll om 2 dagar.",anesthesia:null,operation:null,medicines:["Morfin iv 3 mg"]},{id:4,patient_id:1,id_for_patient:3,diagnosis_codes:["S42.0","S43.0","S52.3"],date:"2019-11-24T09:35:00Z",type:"progress",is_starred:!1,unit:"Mottagningsbesök",reason:"Återbesök",current:"Tidigare frisk man som för 3 dagar sedan ramlade med cykel då han körde MBT downhill. Axellux och fraktur på clavicel och radius dx. Luxationen reponerades och radiusfrakturen reponerades och gipsades.",social:null,previous_history:null,status:[{name:"AT",value:"Gott"},{name:"Lokalt",value:"dx. Fin färg i fingrar. Känsel ua."}],assessment:"Clavicelfraktur behandlas konservativt. Fortsatt gips hö arm 6 veckor.",anesthesia:null,operation:null,medicines:null},{id:5,patient_id:5,id_for_patient:1,diagnosis_codes:["M54.5"],date:"2018-04-13T16:26:00Z",type:"progress",is_starred:!1,unit:"Akuten",reason:"Ryggvärk",current:"Arbetar som lastbilschafför. Idag lyft tung låda med verktyg varpå det högg till i ryggen och han har därefter inte kunna räta på ryggen pga smärtor. Förnekar utstrålande smärtor i benet. Har kunnat kissa.",social:null,previous_history:"Hjärtinfarkt med PCI 2017. Typ II-diabetes.",status:[{name:"AT",value:"Kraftigt överviktig. Går stapplande, framåtböjd med stöd."},{name:"Lokalt",value:"Palperas ömmande sakrolumbalt. Lasegue negativt."}],assessment:"Lumbago. Rekommenderas smärtlindring med paracetamol och NSAID och mobilisering efter förmåga. Får träffa sjukgymnast för träningsprogram.",anesthesia:null,operation:null,medicines:null},{id:6,patient_id:6,id_for_patient:2,diagnosis_codes:["M00.9"],date:"2019-04-12T11:11:00Z",type:"progress",is_starred:!0,unit:"Ortopedmottagningen",reason:"Svullet knä",current:"Sedan några dagar allt mer svullet höger knä. Sedan igår även tilltagande värmeökning. Feber.",social:null,previous_history:null,status:[{name:"AT",value:"Feber 38,6 C"},{name:"Lokalt",value:"Svullet höger knä. Rodnat. Inskränkt rörlighet pga smärta."}],assessment:"Efter lokalbedövning med 5 ml Xylocain 10 mg/ml punkteras knät. Aspirat ger misstanke om septisk artrit. Ledvätska till analys och odling. Inläggning med Kloxacillin 2g x 3 iv.",anesthesia:null,operation:null,medicines:null},{id:7,patient_id:2,id_for_patient:1,diagnosis_codes:["C43.5"],date:"2019-03-16T11:05:00Z",type:"progress",is_starred:!1,unit:"Hudmottagning",reason:"Hudförändring bål",current:"Noterat oregelbunden mörkpigmenterad fläck på bålen som senaste månaderna växt och blöder. Solar mycket.",social:null,previous_history:"Tidigare frisk",status:[{name:"AT",value:"Gott och opåverkad"},{name:"Hjärta",value:"RR, Inga bi eller blåsljud"},{name:"Lungor",value:"Normala andningsljud bilateralt"},{name:"Buk",value:"Mjuk och oöm"},{name:"Hud",value:"På bålen noteras nevus oreglundet till form och färg. 8 mm diamater. Liten krusta dorsalt."}],assessment:"Misstänkt malignt melanom hos tidigare frisk kvinna. Excision i lokalbedövning (10 ml Lidokain) med god marginal (>5 mm). Preparat till patolog.",anesthesia:null,operation:null,medicines:null},{id:8,patient_id:2,id_for_patient:2,diagnosis_codes:["C43.5"],date:"2019-03-25T08:39:00Z",type:"progress",is_starred:!0,unit:"Hudmottagning",reason:"Återbesök",current:"Orolig. Inga besvär i övrigt.",social:null,previous_history:null,status:[{name:"Hud",value:"Fint och oretat i såret."}],assessment:"Malignt melanom. Remiss till onkolog.",anesthesia:null,operation:null,medicines:null},{id:9,patient_id:2,id_for_patient:3,diagnosis_codes:["S82.50","S82.60","S82.80"],date:"2020-03-02T12:12:00Z",type:"progress",is_starred:!1,unit:"Ortopedakuten",reason:"Ridolycka",current:"Trillat av hästen under hopptävling. Fastnade med foten i stigbygeln. Slagit i huvudet men inte varit avsvimmad. Hade hjälm och ryggskydd. Inkommer med ambulans och vänster ben i vakumstöd.",social:null,previous_history:"Malignt melanom",status:[{name:"AT",value:"Orolig, smärtpåverkad"},{name:"Hjärta",value:"Takykard, HF 140. RR."},{name:"Lungor",value:"Normala andningsljud bilat"},{name:"Buk",value:"Mjuk och oöm"},{name:"Lokalt",value:"Kraftig felställning med utåtrotation i vänster fotled. Smärtar."}],assessment:"Erhåller smärtlindring. Grovreponeras. Stabiliseras. Inläggning i väntan på op fotledsfraktur",anesthesia:null,operation:null,medicines:["morfin 1mg/ml 3 ml"]},{id:10,patient_id:2,id_for_patient:4,diagnosis_codes:["S82.50","S82.60","S82.80"],date:"2020-03-03T07:21:00Z",type:"progress",is_starred:!1,unit:"Ortopedavdelningen",reason:null,current:"Fotledsfraktur vänster. Fastar i väntan på operation senare under dagen. Fortsatt smärtlindring med morfin.",social:null,previous_history:null,status:null,assessment:null,anesthesia:null,operation:null,medicines:null},{id:11,patient_id:4,id_for_patient:1,diagnosis_codes:["S52.4"],date:"2019-07-09T10:45:00Z",type:"progress",is_starred:!1,unit:"Akutmottagning",reason:"Underarmsfraktur",current:"Kört motorcross på Rörken. Kört omkull och fått motorcykeln över armen. Har nu en öppen underarmsfraktur höger arm. Inkommer till akuten i kompisens bil och armen inlindad i en handduk.",social:null,previous_history:"Tidigare frisk",status:[{name:"AT",value:"Under omständigeheterna gott. Smärtpåverkad."},{name:"Hjärta",value:"HF 90. RR. Inga blåsljud"},{name:"Lungor",value:"ua"},{name:"Buk",value:"ua"},{name:"Lokalt",value:"Öppen fraktur höger underarm. Distala pulsar ua. Distalt nervstatus ua."}],assessment:"A3-fraktur. Smärtlindras. Fasta. Inläggning i väntan på operation",anesthesia:null,operation:null,medicines:["Morfin 1 mg/ml 5 ml"]},{id:12,patient_id:4,id_for_patient:2,diagnosis_codes:["S52.4"],date:"2019-07-09T14:04:00Z",type:"surgery",is_starred:!0,unit:null,reason:null,current:null,social:null,previous_history:null,status:null,assessment:null,anesthesia:"Plexusblockad, se narkosanteckning",operation:"Förbereds enligt gällande rutin. Öppen reposition med fixation med platta och skruvar. Röntgen postop visar acceptabelt läge. Stabilt efter fixation. Kontrollröntgen om 8 veckor.",medicines:null},{id:13,patient_id:3,id_for_patient:1,diagnosis_codes:["M24.B"],date:"2019-08-25T11:18:00Z",type:"progress",is_starred:!1,unit:"Ortopedmottagningen",reason:"Axelbesvär vänster",current:"Har återkommande axelluxationer även vänster. Axeln hoppar ur led vid fysisk aktivitet men han kan reponera den själv. Önskar nu operation.",social:null,previous_history:"Tidigare opererad i Sundsvall för recidiverande axelluxationer höger.",status:[{name:"Lokalt",value:"Apprehension sign positivt. Relocation test postivt. Inskränkt utåtrotation."}],assessment:"Axelinstabilitet. Beställer journal från Sundsvall och sätter upp patient till operation.",anesthesia:null,operation:null,medicines:null}],Bt=[{id:1,note_id:1,type:"Lab",date:"2010-08-30",comment:"Influensa A positivt",text:["Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi consectetur nec diam non vestibulum. Proin consectetur elit sapien, sed mattis orci vulputate ut. Nam scelerisque, lacus vel sollicitudin aliquet, lacus velit convallis sapien, non ultrices augue felis facilisis ligula. Nam massa nibh, iaculis id lectus ac, aliquam ullamcorper felis. Ut feugiat turpis et turpis dapibus pellentesque. Donec convallis in metus eu dictum. Aliquam augue sem, blandit tempus purus in, tristique sodales lectus. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Maecenas quis sem ut tortor fermentum efficitur in vestibulum turpis. Integer pulvinar enim ac lacus ultrices cursus. Nulla convallis finibus dui, eget iaculis ex varius a.","Proin vulputate pretium purus in volutpat. Vestibulum rutrum enim efficitur, laoreet justo in, euismod est. Phasellus suscipit velit posuere vulputate cursus. Cras sodales odio dui, et posuere nisi feugiat dignissim. Nullam egestas turpis ac augue malesuada, a sagittis erat mollis. Etiam dui libero, finibus sed turpis id, viverra porta nunc. Integer efficitur augue sed ullamcorper sagittis. Vestibulum ut est mi. Praesent pharetra urna dolor, sit amet gravida erat imperdiet ac. Sed eget leo ac leo fringilla elementum nec congue erat. Sed eu auctor diam. Maecenas mattis id eros vel ullamcorper. Vestibulum vulputate ultrices hendrerit. Quisque tincidunt quam in lectus varius, tincidunt pulvinar turpis porta. Cras fringilla eget diam in vulputate. Phasellus porta velit vel justo aliquet, non aliquam sem dictum.","Aliquam blandit arcu vitae egestas porta. Donec lacinia nibh quis lectus volutpat, ac sollicitudin tortor dapibus. Pellentesque eu fringilla nisi. Vestibulum blandit ex vitae nibh sagittis, eget rutrum diam mollis. Nunc ac ultrices justo. Fusce sit amet tellus id sem consectetur aliquet. Nullam vitae laoreet enim. Nullam in tempor enim. Duis tristique tristique lorem, quis varius leo volutpat id. Duis rutrum, ante eu dapibus viverra, sapien urna molestie orci, fermentum varius tortor quam id sem.","Duis dignissim condimentum elementum. Donec ornare mauris non arcu scelerisque, vitae condimentum urna faucibus. Ut lectus elit, euismod id viverra non, aliquet vitae dolor. Morbi in ex tortor. Mauris vestibulum risus ac diam porta vehicula. Sed iaculis nunc sed odio venenatis tristique. Quisque sed egestas urna. Phasellus ultricies diam nec enim porta ornare. Nunc metus metus, scelerisque eget nunc sed, aliquet interdum dui.","Pellentesque sed diam neque. Maecenas sagittis feugiat felis, at pulvinar nisl ultrices et. Integer lobortis vel turpis id pellentesque. Mauris porttitor tortor nec ligula lobortis egestas. Etiam in neque mattis, posuere massa sed, efficitur sem. Sed at mattis metus. Duis augue nulla, euismod dignissim nulla vitae, egestas pretium lectus. Curabitur in velit augue. Vivamus varius feugiat sollicitudin. Sed ultricies tristique mi quis cursus. Quisque pellentesque dapibus purus, eu finibus libero pulvinar fringilla. Praesent magna urna, maximus et augue et, malesuada tristique magna. Sed sollicitudin, magna et fermentum dapibus, nulla elit cursus augue, imperdiet aliquet ex turpis nec nisi. Quisque sed turpis erat. Etiam quis molestie orci. Integer libero libero, eleifend nec ultricies et, consequat et lacus."]},{id:2,note_id:2,type:"Lab",date:"2016-01-02",comment:"Troponin ua",text:["Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi consectetur nec diam non vestibulum. Proin consectetur elit sapien, sed mattis orci vulputate ut. Nam scelerisque, lacus vel sollicitudin aliquet, lacus velit convallis sapien, non ultrices augue felis facilisis ligula. Nam massa nibh, iaculis id lectus ac, aliquam ullamcorper felis. Ut feugiat turpis et turpis dapibus pellentesque. Donec convallis in metus eu dictum. Aliquam augue sem, blandit tempus purus in, tristique sodales lectus. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Maecenas quis sem ut tortor fermentum efficitur in vestibulum turpis. Integer pulvinar enim ac lacus ultrices cursus. Nulla convallis finibus dui, eget iaculis ex varius a.","Proin vulputate pretium purus in volutpat. Vestibulum rutrum enim efficitur, laoreet justo in, euismod est. Phasellus suscipit velit posuere vulputate cursus. Cras sodales odio dui, et posuere nisi feugiat dignissim. Nullam egestas turpis ac augue malesuada, a sagittis erat mollis. Etiam dui libero, finibus sed turpis id, viverra porta nunc. Integer efficitur augue sed ullamcorper sagittis. Vestibulum ut est mi. Praesent pharetra urna dolor, sit amet gravida erat imperdiet ac. Sed eget leo ac leo fringilla elementum nec congue erat. Sed eu auctor diam. Maecenas mattis id eros vel ullamcorper. Vestibulum vulputate ultrices hendrerit. Quisque tincidunt quam in lectus varius, tincidunt pulvinar turpis porta. Cras fringilla eget diam in vulputate. Phasellus porta velit vel justo aliquet, non aliquam sem dictum."]},{id:3,note_id:3,type:"Röntgen",date:"2019-11-21T15:43:00Z",comment:"Slätröntgen arm: Radiusfraktur lätt dislocerad höger.",image_name:"xray-wrist-right-radius-fracture.jpg"},{id:4,note_id:3,type:"Röntgen",date:"2019-11-21T15:46:00Z",comment:"Slätröntgen axel: Axelluxation höger. Clavicelfraktur höger",image_name:"xray-shoulder-right-clavicle-fracture.jpg"},{id:5,note_id:4,type:"Röntgen",date:"2019-11-24T09:23:00Z",comment:"Slätröntgen höger handled. Fraktur radius i gott läge.",image_name:"xray-wrist-right-healthy.png"},{id:6,note_id:5,type:"Lab",date:"2018-04-13",comment:"normalt",text:["Duis dignissim condimentum elementum. Donec ornare mauris non arcu scelerisque, vitae condimentum urna faucibus. Ut lectus elit, euismod id viverra non, aliquet vitae dolor. Morbi in ex tortor. Mauris vestibulum risus ac diam porta vehicula. Sed iaculis nunc sed odio venenatis tristique. Quisque sed egestas urna. Phasellus ultricies diam nec enim porta ornare. Nunc metus metus, scelerisque eget nunc sed, aliquet interdum dui.","Proin vulputate pretium purus in volutpat. Vestibulum rutrum enim efficitur, laoreet justo in, euismod est. Phasellus suscipit velit posuere vulputate cursus. Cras sodales odio dui, et posuere nisi feugiat dignissim. Nullam egestas turpis ac augue malesuada, a sagittis erat mollis. Etiam dui libero, finibus sed turpis id, viverra porta nunc. Integer efficitur augue sed ullamcorper sagittis. Vestibulum ut est mi. Praesent pharetra urna dolor, sit amet gravida erat imperdiet ac. Sed eget leo ac leo fringilla elementum nec congue erat. Sed eu auctor diam. Maecenas mattis id eros vel ullamcorper. Vestibulum vulputate ultrices hendrerit. Quisque tincidunt quam in lectus varius, tincidunt pulvinar turpis porta. Cras fringilla eget diam in vulputate. Phasellus porta velit vel justo aliquet, non aliquam sem dictum.","Aliquam blandit arcu vitae egestas porta. Donec lacinia nibh quis lectus volutpat, ac sollicitudin tortor dapibus. Pellentesque eu fringilla nisi. Vestibulum blandit ex vitae nibh sagittis, eget rutrum diam mollis. Nunc ac ultrices justo. Fusce sit amet tellus id sem consectetur aliquet. Nullam vitae laoreet enim. Nullam in tempor enim. Duis tristique tristique lorem, quis varius leo volutpat id. Duis rutrum, ante eu dapibus viverra, sapien urna molestie orci, fermentum varius tortor quam id sem.","Pellentesque sed diam neque. Maecenas sagittis feugiat felis, at pulvinar nisl ultrices et. Integer lobortis vel turpis id pellentesque. Mauris porttitor tortor nec ligula lobortis egestas. Etiam in neque mattis, posuere massa sed, efficitur sem. Sed at mattis metus. Duis augue nulla, euismod dignissim nulla vitae, egestas pretium lectus. Curabitur in velit augue. Vivamus varius feugiat sollicitudin. Sed ultricies tristique mi quis cursus. Quisque pellentesque dapibus purus, eu finibus libero pulvinar fringilla. Praesent magna urna, maximus et augue et, malesuada tristique magna. Sed sollicitudin, magna et fermentum dapibus, nulla elit cursus augue, imperdiet aliquet ex turpis nec nisi. Quisque sed turpis erat. Etiam quis molestie orci. Integer libero libero, eleifend nec ultricies et, consequat et lacus."]},{id:7,note_id:9,type:"Röntgen",date:"2020-03-02T12:18:00Z",comment:"Trimalleolär fotledsfraktur sin.",image_name:"xray-ankle-left-trimalleolar-fracture.jpeg"},{id:8,note_id:8,type:"Lab",date:"2019-03-25",comment:"Patologi visar malignt melanom",text:["Proin vulputate pretium purus in volutpat. Vestibulum rutrum enim efficitur, laoreet justo in, euismod est. Phasellus suscipit velit posuere vulputate cursus. Cras sodales odio dui, et posuere nisi feugiat dignissim. Nullam egestas turpis ac augue malesuada, a sagittis erat mollis. Etiam dui libero, finibus sed turpis id, viverra porta nunc. Integer efficitur augue sed ullamcorper sagittis. Vestibulum ut est mi. Praesent pharetra urna dolor, sit amet gravida erat imperdiet ac. Sed eget leo ac leo fringilla elementum nec congue erat. Sed eu auctor diam. Maecenas mattis id eros vel ullamcorper. Vestibulum vulputate ultrices hendrerit. Quisque tincidunt quam in lectus varius, tincidunt pulvinar turpis porta. Cras fringilla eget diam in vulputate. Phasellus porta velit vel justo aliquet, non aliquam sem dictum.","Duis dignissim condimentum elementum. Donec ornare mauris non arcu scelerisque, vitae condimentum urna faucibus. Ut lectus elit, euismod id viverra non, aliquet vitae dolor. Morbi in ex tortor. Mauris vestibulum risus ac diam porta vehicula. Sed iaculis nunc sed odio venenatis tristique. Quisque sed egestas urna. Phasellus ultricies diam nec enim porta ornare. Nunc metus metus, scelerisque eget nunc sed, aliquet interdum dui."]},{id:9,note_id:11,type:"Röntgen",date:"2019-07-09T10:57:00Z",comment:"Fraktur av både radius och ulna, typ A3.",image_name:"xray-arm-right-radius-and-ulnar-fractures.jpg"},{id:10,note_id:11,type:"Lab",date:"2019-07-09",comment:"Blodstatus ua",text:["Pellentesque sed diam neque. Maecenas sagittis feugiat felis, at pulvinar nisl ultrices et. Integer lobortis vel turpis id pellentesque. Mauris porttitor tortor nec ligula lobortis egestas. Etiam in neque mattis, posuere massa sed, efficitur sem. Sed at mattis metus. Duis augue nulla, euismod dignissim nulla vitae, egestas pretium lectus. Curabitur in velit augue. Vivamus varius feugiat sollicitudin. Sed ultricies tristique mi quis cursus. Quisque pellentesque dapibus purus, eu finibus libero pulvinar fringilla. Praesent magna urna, maximus et augue et, malesuada tristique magna. Sed sollicitudin, magna et fermentum dapibus, nulla elit cursus augue, imperdiet aliquet ex turpis nec nisi. Quisque sed turpis erat. Etiam quis molestie orci. Integer libero libero, eleifend nec ultricies et, consequat et lacus.","Aliquam blandit arcu vitae egestas porta. Donec lacinia nibh quis lectus volutpat, ac sollicitudin tortor dapibus. Pellentesque eu fringilla nisi. Vestibulum blandit ex vitae nibh sagittis, eget rutrum diam mollis. Nunc ac ultrices justo. Fusce sit amet tellus id sem consectetur aliquet. Nullam vitae laoreet enim. Nullam in tempor enim. Duis tristique tristique lorem, quis varius leo volutpat id. Duis rutrum, ante eu dapibus viverra, sapien urna molestie orci, fermentum varius tortor quam id sem.","Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi consectetur nec diam non vestibulum. Proin consectetur elit sapien, sed mattis orci vulputate ut. Nam scelerisque, lacus vel sollicitudin aliquet, lacus velit convallis sapien, non ultrices augue felis facilisis ligula. Nam massa nibh, iaculis id lectus ac, aliquam ullamcorper felis. Ut feugiat turpis et turpis dapibus pellentesque. Donec convallis in metus eu dictum. Aliquam augue sem, blandit tempus purus in, tristique sodales lectus. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Maecenas quis sem ut tortor fermentum efficitur in vestibulum turpis. Integer pulvinar enim ac lacus ultrices cursus. Nulla convallis finibus dui, eget iaculis ex varius a."]}];n["a"].use(l["a"]);var Ft=new l["a"].Store({state:{currentUser:{first_name:"Alma",last_name:"Karlsson",role:"Orthopedic, surgeon",departments:["Orthopedics"]},lastActiveAppointments:[],selectedPatient:null,selectedProblems:[],highlightedNote:null,patients:Mt,todaysAppointments:It,myPatientsAppointments:Dt,wardPatients:Lt,diagnoses:Zt,notes:Et,attachments:Bt},mutations:{syncUserInfo:function(t){localStorage.getItem("currentUser")?t.currentUser=Object(N["a"])({},t.currentUser,JSON.parse(localStorage.getItem("currentUser"))):localStorage.setItem("currentUser",JSON.stringify(t.currentUser))},selectAppointment:function(t,e){var i=e.appointment,n=t.lastActiveAppointments.filter(function(t){return t.patient.id!==i.patient.id});n.unshift(0),n[0]=i,t.lastActiveAppointments=n,t.selectedPatient=t.patients.find(function(t){return t.id===i.patient.id}),t.selectedProblems=[]},selectProblem:function(t,e){var i=e.id;t.selectedProblems=[i]},selectProblems:function(t,e){var i=e.ids;t.selectedProblems=Object(O["a"])(i)},toggleAddProblemToSelect:function(t,e){var i=e.id;t.selectedProblems.includes(i)?t.selectedProblems=t.selectedProblems.filter(function(t){return t!==i}):t.selectedProblems.push(i)},starNote:function(t,e){var i=e.id,n=t.notes.find(function(t){return t.id===i});n.is_starred=!0},unStarNote:function(t,e){var i=e.id,n=t.notes.find(function(t){return t.id===i});n.is_starred=!1},highlightNote:function(t,e){var i=e.id;t.highlightedNote=t.notes.find(function(t){return t.id===i})},resetNoteHighlight:function(t){t.highlightedNote=null}},actions:{toggleStarNote:function(t,e){var i=t.commit,n=t.state,s=e.id,a=n.notes.find(function(t){return t.id===s});a.is_starred?i("unStarNote",a):i("starNote",a)}},getters:{getTodaysAppointments:function(t){return t.todaysAppointments.map(function(e){return Object(N["a"])({},e,{patient:t.patients.find(function(t){return t.id==e.patient_id})})})},getMyPatientsAppointments:function(t){return t.myPatientsAppointments.map(function(e){return Object(N["a"])({},e,{patient:t.patients.find(function(t){return t.id==e.patient_id})})})},getWardPatients:function(t){return t.wardPatients.map(function(e){return Object(N["a"])({},e,{patient:t.patients.find(function(t){return t.id==e.patient_id})})})},getProblemsByPatientId:function(t,e){return function(i){var n=i.id;return t.notes.filter(function(t){return t.patient_id===n}).reduce($t,[]).map(function(t){var i=t.diagnosis_code,s=t.notes;return Rt(n,i,s,e)}).sort(function(t,e){return new Date(e.last_activity_date)-new Date(t.last_activity_date)})}},getNotesByProblemId:function(t){return function(e){var i=e.id;return t.notes.filter(function(t){return t.patient_id===parseInt(i.split("_")[0])&&t.diagnosis_codes.includes(i.split("_")[1])})}},getDiagnosisByCode:function(t){return function(e){var i=e.code;return t.diagnoses.find(function(t){return t.code_icd10===i})}},getAttachmentsByNoteId:function(t){return function(e){var i=e.id;return t.attachments.filter(function(t){return t.note_id===i}).sort(function(t,e){return new Date(e.date)-new Date(t.date)})}},getNotesForSelectedProblems:function(t,e){return t.selectedProblems.map(function(t){return e.getNotesByProblemId({id:t})}).flat().filter(function(t,e,i){return i.indexOf(t)===e}).map(function(t){return Object(N["a"])({},t,{attachments:e.getAttachmentsByNoteId(t),diagnoses:t.diagnosis_codes.map(function(t){return e.getDiagnosisByCode({code:t})})})}).sort(function(t,e){return new Date(e.date)-new Date(t.date)})}}});function $t(t,e){return e.diagnosis_codes.forEach(function(i){var n=t.find(function(t){return t.diagnosis_code===i});n?n.notes.push(e):t.push({diagnosis_code:i,notes:[e]})}),t}function Rt(t,e,i,n){return Object(N["a"])({id:"".concat(t,"_").concat(e),diagnosis_code:e,progress_note_count:i.filter(function(t){return"progress"===t.type}).length,surgery_count:i.filter(function(t){return"surgery"===t.type}).length,epicrisis_count:i.filter(function(t){return"epicrisis"===t.type}).length,start_date:Math.min.apply(Math,Object(O["a"])(i.map(function(t){return new Date(t.start_date||t.date)}))),last_activity_date:Math.max.apply(Math,Object(O["a"])(i.map(function(t){return new Date(t.date)})))},n.getDiagnosisByCode({code:e}))}n["a"].config.productionTip=!1,n["a"].use(i("Lq01")),new n["a"]({router:Nt,store:Ft,render:function(t){return t(C)}}).$mount("#app")},Ye3y:function(t,e,i){t.exports=i.p+"img/xray-demo.46f05ced.jpg"},ZCWV:function(t,e,i){"use strict";var n=i("7EbL"),s=i.n(n);s.a},ZzOG:function(t,e,i){},a2vD:function(t,e,i){"use strict";var n=i("ZzOG"),s=i.n(n);s.a},aSxC:function(t,e,i){},cEOh:function(t,e,i){},cp5E:function(t,e,i){"use strict";var n=i("0jZk"),s=i.n(n);s.a},dYTa:function(t,e,i){var n={"./xray-ankle-left-trimalleolar-fracture.jpeg":"sDEv","./xray-arm-right-radius-and-ulnar-fractures.jpg":"oqgS","./xray-demo.jpg":"Ye3y","./xray-shoulder-right-clavicle-fracture.jpg":"5iwO","./xray-wrist-right-healthy.png":"zgUY","./xray-wrist-right-radius-fracture.jpg":"JGCL"};function s(t){var e=a(t);return i(e)}function a(t){var e=n[t];if(!(e+1)){var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}return e}s.keys=function(){return Object.keys(n)},s.resolve=a,t.exports=s,s.id="dYTa"},eweK:function(t,e,i){"use strict";var n=i("40uL"),s=i.n(n);s.a},f0bw:function(t,e,i){"use strict";var n=i("qL/D"),s=i.n(n);s.a},"hg+G":function(t,e,i){"use strict";var n=i("rOHd"),s=i.n(n);s.a},kTuB:function(t,e,i){"use strict";var n=i("xvwM"),s=i.n(n);s.a},oqgS:function(t,e,i){t.exports=i.p+"img/xray-arm-right-radius-and-ulnar-fractures.7e784c48.jpg"},pC7f:function(t,e,i){"use strict";var n=i("8GSr"),s=i.n(n);s.a},"qL/D":function(t,e,i){},rOHd:function(t,e,i){},sDEv:function(t,e,i){t.exports=i.p+"img/xray-ankle-left-trimalleolar-fracture.65051896.jpeg"},xvwM:function(t,e,i){},y02T:function(t,e,i){"use strict";var n=i("0wdA"),s=i.n(n);s.a},y7PO:function(t,e,i){"use strict";var n=i("cEOh"),s=i.n(n);s.a},zgUY:function(t,e,i){t.exports=i.p+"img/xray-wrist-right-healthy.1ed9c8e2.png"}});
//# sourceMappingURL=app.6f45639f.js.map